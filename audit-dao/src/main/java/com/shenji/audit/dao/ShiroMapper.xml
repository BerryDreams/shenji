<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.shenji.audit.dao.ShiroMapper" >
<!--    <resultMap id="BaseResultMap" type="com.shenji.audit.model.User" >-->
<!--        <constructor>-->
<!--            <idArg column="id" javaType="int"/>-->
<!--        </constructor>-->
<!--        <result column="username" property="username" jdbcType="VARCHAR" />-->
<!--        <result column="password" property="password" jdbcType="VARCHAR" />-->
<!--        <collection property="roles" ofType="com.shenji.audit.shiro.Role">-->
<!--            <result column="id" property="id" jdbcType="INTEGER"/>-->
<!--            <result column="name" property="name" jdbcType="VARCHAR"/>-->
<!--            <collection property="permissions" ofType="com.shenji.audit.shiro.Permission">-->
<!--                <result column="id" property="id" jdbcType="INTEGER"/>-->
<!--                <result column="name" property="name" jdbcType="VARCHAR"/>-->
<!--            </collection>-->
<!--        </collection>-->
<!--        <result column="name" property="name" jdbcType="VARCHAR" />-->
<!--    </resultMap>-->
<!--    <select id="getUserByUsername" resultMap="BaseResultMap">-->
<!--        SELECT u.*-->
<!--        FROM user u-->
<!--        RIGHT JOIN user_role ur on u.id = ur.user_id-->
<!--        RIGHT JOIN role r on r.id = ur.role_id-->
<!--        RIGHT JOIN role_permission rp on r.id = rp.role_id-->
<!--        RIGHT JOIN permission p on p.id = rp.permission_id-->
<!--        WHERE u.username = #{username}-->
<!--    </select>-->
</mapper>